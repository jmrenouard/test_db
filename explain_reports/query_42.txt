QUERY:
SELECT t.title, d.dept_name, COUNT(*) FROM titles t JOIN dept_emp de ON t.emp_no = de.emp_no JOIN departments d ON de.dept_no = d.dept_no WHERE t.to_date = '9999-01-01' AND de.to_date = '9999-01-01' GROUP BY t.title, d.dept_name

EXPLAIN PLAN:
id	select_type	table	type	possible_keys	key	key_len	ref	rows	Extra
1	SIMPLE	d	index	PRIMARY	dept_name	162	NULL	9	Using index; Using temporary; Using filesort
1	SIMPLE	de	ref	PRIMARY,dept_no	dept_no	16	employees.d.dept_no	1	Using where
1	SIMPLE	t	ref	PRIMARY	PRIMARY	4	employees.de.emp_no	1	Using where

ANALYSIS ISSUES:
- Filesort used (performance impact).
- Temporary table used.
